/*!
 * @project        seomatic
 * @name           javascript-editor.js
 * @author         Andrew Welch
 * @build          Wed Apr 13 2022 13:51:17 GMT+0000 (Coordinated Universal Time)
 * @copyright      Copyright (c) 2022 Â©2020 nystudio107.com
 *
 */
"use strict";(self.webpackChunkseomatic=self.webpackChunkseomatic||[]).push([[339],{2919:function(e,n,t){var o=t(8504),i=t(261);t(4916),t(3123),t(5306),t(6699),t(2023),t(6755);function r(e){return e[e.length-1]}function a(e){var n="";null!=e&&(n="?additionalCompletionsCacheKey="+e);var t=new XMLHttpRequest;t.open("GET",Craft.getActionUrl("seomatic/autocomplete/index"+n),!0),t.onload=function(){if(t.status>=200&&t.status<400){var e=JSON.parse(t.responseText);!function(e){monaco.languages.registerCompletionItemProvider("twig",{triggerCharacters:[".","("],provideCompletionItems:function(n,t,o){var i=[],a=n.getValueInRange({startLineNumber:t.lineNumber,startColumn:0,endLineNumber:t.lineNumber,endColumn:t.column}).replace("\t","").split(" "),l=a[a.length-1];l.includes("(")&&(l=r(l.split("("))),l.includes(">")&&(l=r(l.split(">")));var u="."==l.charAt(l.length-1),s=e;if(u){var c=l.substring(0,l.length-1).split(".");s=e[c[0]];for(var d=1;d<c.length;d++){if(!s.hasOwnProperty(c[d]))return i;s=s[c[d]]}}if(void 0!==s)for(var m in s)if(s.hasOwnProperty(m)&&!m.startsWith("__")){var g=s[m].__completions;void 0!==g&&(delete g.range,i.push(g))}return{suggestions:i}}})}(e),function(e){monaco.languages.registerHoverProvider("twig",{provideHover:function(n,t){var o={},i=n.getValueInRange({startLineNumber:t.lineNumber,startColumn:0,endLineNumber:t.lineNumber,endColumn:n.getLineMaxColumn(t.lineNumber)}),r=n.getWordAtPosition(t);if(null!==r){for(var a=i.substring(0,r.endColumn-1),l=!1,u=e,s=a.length;s>=0;s--)if(" "===a[s]){a=i.substring(s+1,a.length);break}if(a.includes(".")&&(l=!0),l)for(var c=a.substring(0,a.length).split("."),d=0;d<c.length-1;d++){if(!u.hasOwnProperty(c[d]))return o;u=u[c[d]]}if(void 0!==u&&void 0!==u[r.word]){var m=u[r.word].__completions;if(void 0!==m)return{range:new monaco.Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColum),contents:[{value:"**"+m.detail+"**"},{value:m.documentation}]}}return o}}})}(e)}else console.log("Autocomplete endpoint failed with status "+t.status)},t.send()}function l(e,n){var t=document.getElementById(e),i=document.createElement("div");i.id=e+"-monaco-editor",i.classList.add("box-content","py-4","monaco-editor-background-frame","w-full","h-full"),t.parentNode.insertBefore(i,t),t.style.display="none";var r=o.editor.create(i,{value:t.value,language:"twig",automaticLayout:!0,wordWrap:!0,scrollBeyondLastLine:!1,lineNumbersMinChars:4,scrollbar:{vertical:"hidden",horizontal:"auto"},fontSize:14,fontFamily:'SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace',minimap:{enabled:!1}});document.querySelector("#main-form").addEventListener("submit",(function(e){t.value=r.getValue()})),Craft.cp.on("beforeSaveShortcut",(function(){t.value=r.getValue()})),null!=n&&a(n);var l=function(){var e=r.getLayoutInfo().width,n=Math.min(1e3,r.getContentHeight());i.style.height="".concat(n,"px");try{!0,r.layout({width:e,height:n})}finally{!1}};r.onDidContentSizeChange(l),l()}""===t.p&&(t.p=window.seomaticBaseAssetsUrl),o.editor.defineTheme("night-owl",i),o.editor.setTheme("night-owl"),window.makeMonacoEditor=l}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[216],(function(){return n(2919),n(6027)}));e.O()}]);
//# sourceMappingURL=javascript-editor.js.map